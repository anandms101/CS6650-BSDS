# Album API

A simple RESTful API server built with Go and the Gin web framework for managing a collection of albums.

## Prerequisites

- Go 1.16 or later
- curl (for testing)

## Setup

1. Initialize the Go module (if not already done):
   ```bash
   go mod init example/web-service-gin
   ```

2. Install dependencies:
   ```bash
   go get .
   ```

## Running the Server

Start the server:

```bash
go run .
```

The server will start on `http://localhost:8080`.

## API Endpoints

### Health Check

- **GET** `/`
- Returns server health status

### Get All Albums

- **GET** `/albums`
- Returns a list of all albums

### Get Album by ID

- **GET** `/albums/:id`
- Returns a specific album by its ID

### Create Album

- **POST** `/albums`
- Creates a new album. The ID is auto-generated by the server.
- Request body:
  ```json
  {
    "title": "Album Title",
    "artist": "Artist Name",
    "price": 29.99
  }
  ```

### Update Album

- **PATCH** `/albums/:id`
- Updates an album. Allows partial updates.
- Request body (all fields optional):
  ```json
  {
    "title": "Updated Title",
    "artist": "Updated Artist",
    "price": 39.99
  }
  ```

### Delete Album

- **DELETE** `/albums/:id`
- Deletes an album by its ID

## Testing with curl

### Get all albums

```bash
curl http://localhost:8080/albums
```

### Get album by ID

```bash
curl http://localhost:8080/albums/550e8400-e29b-41d4-a716-446655440001
```

### Create album

```bash
curl -X POST http://localhost:8080/albums \
  -H "Content-Type: application/json" \
  -d '{"title": "Kind of Blue", "artist": "Miles Davis", "price": 49.99}'
```

### Update album

```bash
curl -X PATCH http://localhost:8080/albums/550e8400-e29b-41d4-a716-446655440001 \
  -H "Content-Type: application/json" \
  -d '{"title": "Updated Title"}'
```

### Delete album

```bash
curl -X DELETE http://localhost:8080/albums/550e8400-e29b-41d4-a716-446655440001
```

## Running Tests

Run all tests:

```bash
go test
```

Run tests with verbose output:

```bash
go test -v
```

## Notes

- Data is stored in memory and will be lost when the server stops